<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Document Management System - Proje Mimarisi ve API Dokümantasyonu
    </title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: #333;
        background-color: #f8f9fa;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }

      .header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 40px 0;
        text-align: center;
        border-radius: 10px;
        margin-bottom: 30px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      }

      .header h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
      }

      .header p {
        font-size: 1.2em;
        opacity: 0.9;
      }

      .toc {
        background: white;
        padding: 25px;
        border-radius: 10px;
        margin-bottom: 30px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      .toc h2 {
        color: #667eea;
        margin-bottom: 20px;
        border-bottom: 2px solid #667eea;
        padding-bottom: 10px;
      }

      .toc ul {
        list-style: none;
        padding-left: 0;
      }

      .toc li {
        margin: 10px 0;
        padding: 8px 0;
        border-bottom: 1px solid #eee;
      }

      .toc a {
        text-decoration: none;
        color: #333;
        font-weight: 500;
        transition: color 0.3s;
      }

      .toc a:hover {
        color: #667eea;
      }

      .section {
        background: white;
        padding: 30px;
        border-radius: 10px;
        margin-bottom: 30px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      .section h2 {
        color: #667eea;
        margin-bottom: 20px;
        border-bottom: 2px solid #667eea;
        padding-bottom: 10px;
      }

      .section h3 {
        color: #555;
        margin: 25px 0 15px 0;
        font-size: 1.3em;
      }

      .section h4 {
        color: #666;
        margin: 20px 0 10px 0;
        font-size: 1.1em;
      }

      .feature-list {
        list-style: none;
        padding-left: 0;
      }

      .feature-list li {
        padding: 8px 0;
        border-bottom: 1px solid #eee;
        position: relative;
        padding-left: 30px;
      }

      .feature-list li:before {
        content: "✅";
        position: absolute;
        left: 0;
        color: #28a745;
      }

      .tech-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin: 20px 0;
      }

      .tech-card {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        border-left: 4px solid #667eea;
      }

      .tech-card h4 {
        color: #667eea;
        margin-bottom: 15px;
      }

      .tech-card ul {
        list-style: none;
        padding-left: 0;
      }

      .tech-card li {
        padding: 5px 0;
        border-bottom: 1px solid #e9ecef;
      }

      .architecture-diagram {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        margin: 20px 0;
        font-family: "Courier New", monospace;
        white-space: pre;
        overflow-x: auto;
        border: 1px solid #dee2e6;
      }

      .code-block {
        background: #2d3748;
        color: #e2e8f0;
        padding: 20px;
        border-radius: 8px;
        margin: 15px 0;
        overflow-x: auto;
        font-family: "Courier New", monospace;
      }

      .endpoint {
        background: #f8f9fa;
        padding: 15px;
        border-radius: 8px;
        margin: 15px 0;
        border-left: 4px solid #28a745;
      }

      .endpoint h4 {
        color: #28a745;
        margin-bottom: 10px;
      }

      .method {
        display: inline-block;
        padding: 4px 8px;
        border-radius: 4px;
        font-weight: bold;
        font-size: 0.9em;
        margin-right: 10px;
      }

      .method.get {
        background: #61affe;
        color: white;
      }
      .method.post {
        background: #49cc90;
        color: white;
      }
      .method.put {
        background: #fca130;
        color: white;
      }
      .method.delete {
        background: #f93e3e;
        color: white;
      }

      .table-container {
        overflow-x: auto;
        margin: 20px 0;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        background: white;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      th,
      td {
        padding: 12px 15px;
        text-align: left;
        border-bottom: 1px solid #dee2e6;
      }

      th {
        background: #667eea;
        color: white;
        font-weight: 600;
      }

      tr:hover {
        background: #f8f9fa;
      }

      .info {
        background: #d1ecf1;
        color: #0c5460;
        padding: 15px;
        border-radius: 8px;
        margin: 15px 0;
        border-left: 4px solid #17a2b8;
      }

      .success {
        background: #d4edda;
        color: #155724;
        padding: 15px;
        border-radius: 8px;
        margin: 15px 0;
        border-left: 4px solid #28a745;
      }

      .footer {
        text-align: center;
        padding: 30px;
        background: #343a40;
        color: white;
        border-radius: 10px;
        margin-top: 30px;
      }

      @media (max-width: 768px) {
        .container {
          padding: 10px;
        }

        .header h1 {
          font-size: 2em;
        }

        .tech-grid {
          grid-template-columns: 1fr;
        }

        .architecture-diagram {
          font-size: 0.8em;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <div class="header">
        <h1>📋 Document Management System</h1>
        <p>Proje Mimarisi ve API Dokümantasyonu</p>
      </div>

      <!-- Table of Contents -->
      <div class="toc">
        <h2>📋 İçindekiler</h2>
        <ul>
          <li><a href="#overview">1. Proje Genel Bakış</a></li>
          <li><a href="#architecture">2. Mimari Yapı</a></li>
          <li><a href="#tech-stack">3. Teknoloji Stack</a></li>
          <li><a href="#database">4. Veritabanı Tasarımı</a></li>
          <li><a href="#api-endpoints">5. API Endpoints</a></li>
          <li><a href="#services">6. Servis Katmanı</a></li>
          <li><a href="#security">7. Güvenlik</a></li>
          <li><a href="#ai-integration">8. AI Entegrasyonu</a></li>
          <li><a href="#testing">9. Test Stratejisi</a></li>
          <li><a href="#deployment">10. Deployment</a></li>
          <li>
            <a href="#docker-containerization">11. Docker Containerization</a>
          </li>
        </ul>
      </div>

      <!-- Proje Genel Bakış -->
      <div class="section" id="overview">
        <h2>🎯 Proje Genel Bakış</h2>
        <p>
          <strong>Document Management System (DMS)</strong>, ASP.NET Core MVC
          kullanılarak geliştirilmiş kapsamlı bir belge yönetim sistemidir.
          Sistem, kullanıcıların belge yükleyebilmesi, arama yapabilmesi ve
          belgeleri yönetebilmesi için tasarlanmıştır.
        </p>

        <h3>Temel Özellikler</h3>
        <ul class="feature-list">
          <li>Kullanıcı kimlik doğrulama ve yetkilendirme</li>
          <li>Belge yükleme ve yönetimi (PDF, DOCX, TXT)</li>
          <li>Google Gemini AI entegrasyonu ile akıllı arama</li>
          <li>Belge içeriği analizi ve özetleme</li>
          <li>Anahtar kelime çıkarma</li>
          <li>Kullanıcı bazlı yetkilendirme</li>
          <li>Responsive web arayüzü</li>
        </ul>
      </div>

      <!-- Mimari Yapı -->
      <div class="section" id="architecture">
        <h2>🏗️ Mimari Yapı</h2>

        <h3>Katmanlı Mimari (Layered Architecture)</h3>
        <div class="architecture-diagram">
          ┌─────────────────────────────────────────────────────────────┐ │
          Presentation Layer │ │ ┌─────────────┐ ┌─────────────┐
          ┌─────────────────────┐ │ │ │ Controllers │ │ Views │ │ ViewModels │ │
          │ └─────────────┘ └─────────────┘ └─────────────────────┘ │
          └─────────────────────────────────────────────────────────────┘
          ┌─────────────────────────────────────────────────────────────┐ │
          Business Logic Layer │ │ ┌─────────────┐ ┌─────────────┐
          ┌─────────────────────┐ │ │ │DocumentSvc │ │ AuthSvc │ │ GeminiSvc │ │
          │ └─────────────┘ └─────────────┘ └─────────────────────┘ │
          └─────────────────────────────────────────────────────────────┘
          ┌─────────────────────────────────────────────────────────────┐ │ Data
          Access Layer │ │ ┌─────────────┐ ┌─────────────┐
          ┌─────────────────────┐ │ │ │Application │ │ Entity │ │ Models │ │ │
          │DbContext │ │ Framework │ │ │ │ │ └─────────────┘ └─────────────┘
          └─────────────────────┘ │
          └─────────────────────────────────────────────────────────────┘
          ┌─────────────────────────────────────────────────────────────┐ │
          Infrastructure Layer │ │ ┌─────────────┐ ┌─────────────┐
          ┌─────────────────────┐ │ │ │ SQL │ │ File │ │ External APIs │ │ │ │
          Server │ │ System │ │ (Gemini) │ │ │ └─────────────┘ └─────────────┘
          └─────────────────────┘ │
          └─────────────────────────────────────────────────────────────┘
        </div>

        <h3>Proje Klasör Yapısı</h3>
        <div class="code-block">
          DocumentManagementSystem/ ├── Controllers/ # MVC Controllers │ ├──
          AuthController.cs # Kimlik doğrulama işlemleri │ ├──
          DocumentController.cs # Belge yönetimi işlemleri │ └──
          TestController.cs # Test endpoint'leri ├── Models/ # Entity Models │
          ├── Document.cs # Belge entity'si │ ├── User.cs # Kullanıcı entity'si
          │ └── SearchResult.cs # Arama sonucu modeli ├── Services/ # Business
          Logic Services │ ├── IDocumentService.cs # Belge servisi interface'i │
          ├── DocumentService.cs # Belge servisi implementasyonu │ ├──
          IAuthService.cs # Kimlik doğrulama servisi interface'i │ ├──
          AuthService.cs # Kimlik doğrulama servisi implementasyonu │ ├──
          IGeminiService.cs # AI servisi interface'i │ └── GeminiService.cs # AI
          servisi implementasyonu ├── Data/ # Data Access Layer │ └──
          ApplicationDbContext.cs # Entity Framework context ├── ViewModels/ #
          View Models │ ├── AuthViewModels.cs # Kimlik doğrulama view model'leri
          │ └── DocumentViewModel.cs # Belge view model'leri ├── Views/ # Razor
          Views │ ├── Auth/ # Kimlik doğrulama view'ları │ ├── Document/ # Belge
          yönetimi view'ları │ └── Shared/ # Paylaşılan view'lar ├── wwwroot/ #
          Static Files │ ├── css/ # Stylesheets │ ├── js/ # JavaScript files │
          ├── lib/ # Third-party libraries │ └── uploads/ # Uploaded documents
          └── Program.cs # Application entry point
        </div>
      </div>

      <!-- Teknoloji Stack -->
      <div class="section" id="tech-stack">
        <h2>🛠️ Teknoloji Stack</h2>

        <div class="tech-grid">
          <div class="tech-card">
            <h4>Backend Teknolojileri</h4>
            <ul>
              <li><strong>Framework:</strong> ASP.NET Core 8.0 MVC</li>
              <li><strong>ORM:</strong> Entity Framework Core 8.0</li>
              <li><strong>Veritabanı:</strong> SQL Server (LocalDB/Express)</li>
              <li>
                <strong>Authentication:</strong> Cookie-based Authentication
              </li>
              <li><strong>Password Hashing:</strong> BCrypt.Net-Next</li>
              <li><strong>Logging:</strong> Built-in .NET Logging</li>
            </ul>
          </div>

          <div class="tech-card">
            <h4>Frontend Teknolojileri</h4>
            <ul>
              <li><strong>UI Framework:</strong> Bootstrap 5.3</li>
              <li><strong>JavaScript Library:</strong> jQuery 3.7</li>
              <li><strong>Icons:</strong> Font Awesome 6.4</li>
              <li><strong>Template Engine:</strong> Razor Views</li>
            </ul>
          </div>

          <div class="tech-card">
            <h4>AI ve External Services</h4>
            <ul>
              <li><strong>AI Service:</strong> Google Gemini API</li>
              <li>
                <strong>File Processing:</strong> iTextSharp (PDF),
                DocumentFormat.OpenXml (DOCX)
              </li>
            </ul>
          </div>

          <div class="tech-card">
            <h4>Testing</h4>
            <ul>
              <li><strong>Testing Framework:</strong> xUnit</li>
              <li><strong>Mocking:</strong> Moq</li>
              <li><strong>Test Runner:</strong> .NET Test</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Veritabanı Tasarımı -->
      <div class="section" id="database">
        <h2>🗄️ Veritabanı Tasarımı</h2>

        <h3>Entity Relationship Diagram</h3>
        <div class="architecture-diagram">
          ┌─────────────────┐ ┌─────────────────┐ │ Users │ │ Documents │
          ├─────────────────┤ ├─────────────────┤ │ Id (PK) │ │ Id (PK) │ │
          Username (UK) │ │ Title │ │ Email (UK) │ │ FileName │ │ PasswordHash │
          │ FilePath │ │ FirstName │ │ FileType │ │ LastName │ │ FileSize │ │
          CreatedDate │ │ Content │ │ LastLoginDate │ │ Summary │ │ IsActive │ │
          Keywords │ │ Role │ │ UploadDate │ └─────────────────┘ │ LastModified
          │ │ UploadedBy │ │ IsProcessed │ │ ProcessingStatus│
          └─────────────────┘
        </div>

        <h3>Tablo Detayları</h3>

        <h4>Users Tablosu</h4>
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>Alan</th>
                <th>Tip</th>
                <th>Açıklama</th>
                <th>Kısıtlamalar</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Id</td>
                <td>int</td>
                <td>Primary Key</td>
                <td>Identity, Auto Increment</td>
              </tr>
              <tr>
                <td>Username</td>
                <td>nvarchar(100)</td>
                <td>Kullanıcı adı</td>
                <td>Unique, Required</td>
              </tr>
              <tr>
                <td>Email</td>
                <td>nvarchar(255)</td>
                <td>E-posta adresi</td>
                <td>Unique, Required</td>
              </tr>
              <tr>
                <td>PasswordHash</td>
                <td>nvarchar(255)</td>
                <td>Şifrelenmiş parola</td>
                <td>Required</td>
              </tr>
              <tr>
                <td>FirstName</td>
                <td>nvarchar(100)</td>
                <td>Ad</td>
                <td>Optional</td>
              </tr>
              <tr>
                <td>LastName</td>
                <td>nvarchar(100)</td>
                <td>Soyad</td>
                <td>Optional</td>
              </tr>
              <tr>
                <td>CreatedDate</td>
                <td>datetime2</td>
                <td>Oluşturulma tarihi</td>
                <td>Default: GETDATE()</td>
              </tr>
              <tr>
                <td>LastLoginDate</td>
                <td>datetime2</td>
                <td>Son giriş tarihi</td>
                <td>Default: GETDATE()</td>
              </tr>
              <tr>
                <td>IsActive</td>
                <td>bit</td>
                <td>Aktif durumu</td>
                <td>Default: true</td>
              </tr>
              <tr>
                <td>Role</td>
                <td>nvarchar(50)</td>
                <td>Kullanıcı rolü</td>
                <td>Default: 'User'</td>
              </tr>
            </tbody>
          </table>
        </div>

        <h4>Documents Tablosu</h4>
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>Alan</th>
                <th>Tip</th>
                <th>Açıklama</th>
                <th>Kısıtlamalar</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Id</td>
                <td>int</td>
                <td>Primary Key</td>
                <td>Identity, Auto Increment</td>
              </tr>
              <tr>
                <td>Title</td>
                <td>nvarchar(255)</td>
                <td>Belge başlığı</td>
                <td>Required</td>
              </tr>
              <tr>
                <td>FileName</td>
                <td>nvarchar(255)</td>
                <td>Dosya adı</td>
                <td>Required</td>
              </tr>
              <tr>
                <td>FilePath</td>
                <td>nvarchar(500)</td>
                <td>Dosya yolu</td>
                <td>Required</td>
              </tr>
              <tr>
                <td>FileType</td>
                <td>nvarchar(50)</td>
                <td>Dosya türü</td>
                <td>Required</td>
              </tr>
              <tr>
                <td>FileSize</td>
                <td>bigint</td>
                <td>Dosya boyutu</td>
                <td>Required</td>
              </tr>
              <tr>
                <td>Content</td>
                <td>nvarchar(max)</td>
                <td>Belge içeriği</td>
                <td>Optional</td>
              </tr>
              <tr>
                <td>Summary</td>
                <td>nvarchar(max)</td>
                <td>Belge özeti</td>
                <td>Optional</td>
              </tr>
              <tr>
                <td>Keywords</td>
                <td>nvarchar(max)</td>
                <td>Anahtar kelimeler</td>
                <td>Optional</td>
              </tr>
              <tr>
                <td>UploadDate</td>
                <td>datetime2</td>
                <td>Yükleme tarihi</td>
                <td>Default: GETDATE()</td>
              </tr>
              <tr>
                <td>LastModified</td>
                <td>datetime2</td>
                <td>Son değişiklik</td>
                <td>Default: GETDATE()</td>
              </tr>
              <tr>
                <td>UploadedBy</td>
                <td>nvarchar(100)</td>
                <td>Yükleyen kullanıcı</td>
                <td>Required</td>
              </tr>
              <tr>
                <td>IsProcessed</td>
                <td>bit</td>
                <td>İşlenme durumu</td>
                <td>Default: false</td>
              </tr>
              <tr>
                <td>ProcessingStatus</td>
                <td>nvarchar(50)</td>
                <td>İşleme durumu</td>
                <td>Default: 'Pending'</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- API Endpoints -->
      <div class="section" id="api-endpoints">
        <h2>🔌 API Endpoints</h2>

        <h3>Authentication Endpoints</h3>

        <div class="endpoint">
          <h4><span class="method post">POST</span> /Auth/Login</h4>
          <p><strong>Açıklama:</strong> Kullanıcı girişi</p>
          <p><strong>Request Body:</strong></p>
          <div class="code-block">
            { "Username": "string", "Password": "string", "RememberMe": boolean
            }
          </div>
          <p>
            <strong>Response:</strong> Redirect to Document/Index on success
          </p>
        </div>

        <div class="endpoint">
          <h4><span class="method post">POST</span> /Auth/Register</h4>
          <p><strong>Açıklama:</strong> Kullanıcı kaydı</p>
          <p><strong>Request Body:</strong></p>
          <div class="code-block">
            { "Username": "string", "Email": "string", "Password": "string",
            "ConfirmPassword": "string", "FirstName": "string", "LastName":
            "string" }
          </div>
          <p><strong>Response:</strong> Redirect to Auth/Login on success</p>
        </div>

        <div class="endpoint">
          <h4><span class="method get">GET</span> /Auth/Logout</h4>
          <p><strong>Açıklama:</strong> Kullanıcı çıkışı</p>
          <p><strong>Response:</strong> Redirect to Auth/Login</p>
        </div>

        <h3>Document Management Endpoints</h3>

        <div class="endpoint">
          <h4><span class="method get">GET</span> /Document</h4>
          <p><strong>Açıklama:</strong> Belge listesi</p>
          <p><strong>Response:</strong> List&lt;Document&gt;</p>
        </div>

        <div class="endpoint">
          <h4><span class="method post">POST</span> /Document/Upload</h4>
          <p><strong>Açıklama:</strong> Belge yükleme</p>
          <p>
            <strong>Request Body:</strong> DocumentUploadViewModel
            (multipart/form-data)
          </p>
          <div class="code-block">
            { "Title": "string", "File": "IFormFile" }
          </div>
          <p><strong>Response:</strong> Redirect to Document/Index</p>
        </div>

        <div class="endpoint">
          <h4><span class="method get">GET</span> /Document/Details/{id}</h4>
          <p><strong>Açıklama:</strong> Belge detayı</p>
          <p><strong>Parameters:</strong> id: int (Document ID)</p>
          <p><strong>Response:</strong> Document</p>
        </div>

        <div class="endpoint">
          <h4><span class="method post">POST</span> /Document/Search</h4>
          <p><strong>Açıklama:</strong> Belge arama</p>
          <p><strong>Request Body:</strong></p>
          <div class="code-block">
            { "SearchTerm": "string", "Page": int, "PageSize": int }
          </div>
          <p><strong>Response:</strong> List&lt;SearchResult&gt;</p>
        </div>
      </div>

      <!-- Servis Katmanı -->
      <div class="section" id="services">
        <h2>🔧 Servis Katmanı</h2>

        <h3>IDocumentService Interface</h3>
        <div class="code-block">
          public interface IDocumentService { Task&lt;Document&gt;
          UploadDocumentAsync(DocumentUploadViewModel model, string uploadedBy);
          Task&lt;Document?&gt; GetDocumentByIdAsync(int id);
          Task&lt;List&lt;Document&gt;&gt; GetAllDocumentsAsync();
          Task&lt;List&lt;SearchResult&gt;&gt;
          SearchDocumentsAsync(DocumentSearchViewModel model);
          Task&lt;Document&gt; UpdateDocumentAsync(int id, DocumentViewModel
          model); Task&lt;bool&gt; DeleteDocumentAsync(int id, string
          currentUser); Task&lt;string&gt; ExtractTextFromFileAsync(IFormFile
          file); Task&lt;string&gt; GenerateSummaryAsync(string content);
          Task&lt;string&gt; ExtractKeywordsAsync(string content);
          Task&lt;bool&gt; ProcessDocumentAsync(int documentId); }
        </div>

        <h3>IAuthService Interface</h3>
        <div class="code-block">
          public interface IAuthService { Task&lt;User?&gt;
          AuthenticateUserAsync(string username, string password);
          Task&lt;bool&gt; RegisterUserAsync(RegisterViewModel model);
          Task&lt;bool&gt; IsUsernameAvailableAsync(string username);
          Task&lt;bool&gt; IsEmailAvailableAsync(string email);
          Task&lt;User?&gt; GetUserByIdAsync(int id); Task&lt;bool&gt;
          ChangePasswordAsync(int userId, string currentPassword, string
          newPassword); }
        </div>

        <h3>IGeminiService Interface</h3>
        <div class="code-block">
          public interface IGeminiService { Task&lt;string&gt;
          GenerateSummaryAsync(string content); Task&lt;string&gt;
          ExtractKeywordsAsync(string content); }
        </div>
      </div>

      <!-- Güvenlik -->
      <div class="section" id="security">
        <h2>🔐 Güvenlik</h2>

        <h3>Kimlik Doğrulama (Authentication)</h3>
        <ul class="feature-list">
          <li>
            <strong>Cookie-based Authentication:</strong> ASP.NET Core Identity
            yerine custom cookie authentication
          </li>
          <li><strong>Session Management:</strong> 12 saatlik oturum süresi</li>
          <li>
            <strong>Remember Me:</strong> Kullanıcı tercihi ile uzun süreli
            oturum
          </li>
        </ul>

        <h3>Yetkilendirme (Authorization)</h3>
        <ul class="feature-list">
          <li>
            <strong>Role-based Authorization:</strong> Admin ve User rolleri
          </li>
          <li>
            <strong>Resource-based Authorization:</strong> Kullanıcılar sadece
            kendi belgelerini düzenleyebilir
          </li>
          <li>
            <strong>Action-based Authorization:</strong> Controller seviyesinde
            [Authorize] attribute'u
          </li>
        </ul>

        <h3>Şifre Güvenliği</h3>
        <ul class="feature-list">
          <li><strong>BCrypt Hashing:</strong> Güvenli şifre hashleme</li>
          <li><strong>Salt Generation:</strong> Otomatik salt üretimi</li>
          <li><strong>Password Validation:</strong> Güçlü şifre kuralları</li>
        </ul>

        <h3>Dosya Güvenliği</h3>
        <ul class="feature-list">
          <li>
            <strong>File Type Validation:</strong> Sadece izin verilen dosya
            türleri
          </li>
          <li>
            <strong>File Size Limits:</strong> Maksimum dosya boyutu kontrolü
          </li>
          <li>
            <strong>Secure File Storage:</strong> wwwroot/uploads klasöründe
            güvenli depolama
          </li>
          <li>
            <strong>Path Traversal Protection:</strong> Dosya yolu manipülasyonu
            koruması
          </li>
        </ul>

        <div class="info">
          <strong>CSRF Koruması:</strong> Tüm POST işlemlerinde anti-forgery
          token kullanımı ve ValidateAntiForgeryToken attribute'u ile koruma
          sağlanmaktadır.
        </div>
      </div>

      <!-- AI Entegrasyonu -->
      <div class="section" id="ai-integration">
        <h2>🤖 AI Entegrasyonu</h2>

        <h3>Google Gemini API Entegrasyonu</h3>

        <h4>Konfigürasyon</h4>
        <div class="code-block">
          { "GeminiApiKey": "YOUR_GEMINI_API_KEY_HERE" }
        </div>

        <h4>Kullanım Alanları</h4>
        <ul class="feature-list">
          <li>
            <strong>Belge Özetleme:</strong> Uzun belgelerin kısa özetini
            oluşturma, ana fikirleri çıkarma
          </li>
          <li>
            <strong>Anahtar Kelime Çıkarma:</strong> Belge içeriğinden otomatik
            anahtar kelime çıkarma, arama optimizasyonu
          </li>
          <li>
            <strong>Akıllı Arama:</strong> Doğal dil ile arama, semantik arama
            desteği
          </li>
        </ul>

        <h4>API Metodları</h4>
        <div class="code-block">
          // Belge özetleme public async Task&lt;string&gt;
          GenerateSummaryAsync(string content) { var prompt = $"Aşağıdaki metni
          2-3 cümlelik bir özet haline getir:\n\n{content}"; return await
          CallGeminiAPI(prompt); } // Anahtar kelime çıkarma public async
          Task&lt;string&gt; ExtractKeywordsAsync(string content) { var prompt =
          $"Aşağıdaki metinden en önemli 5-10 anahtar kelimeyi
          çıkar:\n\n{content}"; return await CallGeminiAPI(prompt); }
        </div>

        <div class="success">
          <strong>Hata Yönetimi:</strong> API rate limiting, network timeout
          handling, fallback mechanisms ve error logging ile güvenli AI
          entegrasyonu sağlanmaktadır.
        </div>
      </div>

      <!-- Test Stratejisi -->
      <div class="section" id="testing">
        <h2>🧪 Test Stratejisi</h2>

        <h3>Test Kategorileri</h3>

        <h4>1. Unit Tests</h4>
        <ul class="feature-list">
          <li>
            <strong>AuthServiceTests:</strong> Kimlik doğrulama servisi testleri
          </li>
          <li>
            <strong>DocumentServiceTests:</strong> Belge yönetimi servisi
            testleri
          </li>
          <li><strong>GeminiServiceTests:</strong> AI servisi testleri</li>
        </ul>

        <h4>2. Integration Tests</h4>
        <ul class="feature-list">
          <li><strong>ControllerTests:</strong> Controller action testleri</li>
          <li>
            <strong>DocumentAuthorizationTests:</strong> Yetkilendirme testleri
          </li>
          <li><strong>DocumentRetrievalTests:</strong> Veri erişim testleri</li>
        </ul>

        <h4>3. Advanced Tests</h4>
        <ul class="feature-list">
          <li>
            <strong>DocumentServiceAdvancedTests:</strong> Gelişmiş belge işleme
            testleri
          </li>
          <li><strong>LLMIntegrationTests:</strong> AI entegrasyon testleri</li>
          <li>
            <strong>LLMErrorHandlingTests:</strong> AI hata yönetimi testleri
          </li>
          <li>
            <strong>SearchFunctionalityTests:</strong> Arama fonksiyonalite
            testleri
          </li>
        </ul>

        <h3>Test Coverage</h3>
        <ul class="feature-list">
          <li><strong>Service Layer:</strong> %95+ coverage</li>
          <li><strong>Controller Layer:</strong> %90+ coverage</li>
          <li><strong>Business Logic:</strong> %100 coverage</li>
          <li><strong>Error Scenarios:</strong> Comprehensive testing</li>
        </ul>

        <h3>Test Execution</h3>
        <div class="code-block">
          cd DocumentManagementSystem.Tests dotnet test
        </div>
      </div>

      <!-- Deployment -->
      <div class="section" id="deployment">
        <h2>🚀 Deployment</h2>

        <h3>Geliştirme Ortamı</h3>
        <div class="code-block">
          # Bağımlılıkları yükle dotnet restore # Veritabanını oluştur dotnet ef
          database update # Uygulamayı çalıştır dotnet run
        </div>

        <h3>Production Deployment</h3>

        <h4>Azure App Service</h4>
        <ol>
          <li><strong>App Service Plan</strong> oluştur</li>
          <li><strong>Web App</strong> deploy et</li>
          <li><strong>SQL Database</strong> bağlantısını yapılandır</li>
          <li>
            <strong>Application Settings</strong>'de API anahtarını ayarla
          </li>
          <li><strong>Custom Domain</strong> ve SSL sertifikası ekle</li>
        </ol>

        <h4>Docker Deployment</h4>
        <div class="code-block">
          FROM mcr.microsoft.com/dotnet/aspnet:8.0 AS base WORKDIR /app EXPOSE
          80 EXPOSE 443 FROM mcr.microsoft.com/dotnet/sdk:8.0 AS build WORKDIR
          /src COPY ["DocumentManagementSystem.csproj", "./"] RUN dotnet restore
          COPY . . RUN dotnet build -c Release -o /app/build FROM build AS
          publish RUN dotnet publish -c Release -o /app/publish FROM base AS
          final WORKDIR /app COPY --from=publish /app/publish . ENTRYPOINT
          ["dotnet", "DocumentManagementSystem.dll"]
        </div>

        <h4>Environment Variables</h4>
        <div class="code-block">
          # Production
          ConnectionStrings__DefaultConnection="Server=...;Database=...;User
          Id=...;Password=...;" GeminiApiKey="your-production-api-key"
          ASPNETCORE_ENVIRONMENT="Production"
        </div>

        <h4>CI/CD Pipeline - GitHub Actions</h4>
        <div class="code-block">
          name: Build and Deploy on: push: branches: [main] jobs: build:
          runs-on: ubuntu-latest steps: - uses: actions/checkout@v3 - name:
          Setup .NET uses: actions/setup-dotnet@v3 with: dotnet-version: 8.0.x -
          name: Restore dependencies run: dotnet restore - name: Build run:
          dotnet build --no-restore - name: Test run: dotnet test --no-build
          --verbosity normal - name: Deploy to Azure run: | # Azure deployment
          steps
        </div>
      </div>

      <!-- Docker Containerization -->
      <div class="section" id="docker-containerization">
        <h2>🐳 Docker Containerization</h2>

        <h3>Docker Mimarisi</h3>
        <p>
          Proje tamamen containerized edilmiş ve microservices-ready bir yapıya
          sahiptir. Docker kullanarak geliştirme, test ve production
          ortamlarında tutarlı deployment sağlanmıştır.
        </p>

        <h4>Container Yapısı</h4>
        <div class="architecture-diagram">
          ┌─────────────────────────────────────────────────────────────┐ │
          Docker Compose │
          ├─────────────────────────────────────────────────────────────┤ │
          ┌─────────────────┐ ┌─────────────────┐ │ │ │ SQL Server │ │ Web App │
          │ │ │ Container │ │ Container │ │ │ │ │ │ │ │ │ │ • SQL Server │ │ •
          .NET Core │ │ │ │ 2022 Express │ │ Application │ │ │ │ • Port: 1433 │
          │ • Port: 80/443 │ │ │ │ • Volume: │ │ • Volume: │ │ │ │
          sqlserver_data│ │ uploads_data │ │ │ └─────────────────┘
          └─────────────────┘ │
          └─────────────────────────────────────────────────────────────┘
        </div>

        <h4>Docker Dosyaları</h4>
        <table class="table">
          <thead>
            <tr>
              <th>Dosya</th>
              <th>Açıklama</th>
              <th>Konum</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>Dockerfile</code></td>
              <td>Multi-stage build konfigürasyonu</td>
              <td><code>DocumentManagementSystem/</code></td>
            </tr>
            <tr>
              <td><code>docker-compose.yml</code></td>
              <td>Ana servis konfigürasyonu</td>
              <td>Root</td>
            </tr>
            <tr>
              <td><code>.dockerignore</code></td>
              <td>Build context optimization</td>
              <td><code>DocumentManagementSystem/</code></td>
            </tr>
            <tr>
              <td><code>build-and-run.ps1</code></td>
              <td>PowerShell deployment script</td>
              <td>Root</td>
            </tr>
            <tr>
              <td><code>env.example</code></td>
              <td>Environment variables template</td>
              <td>Root</td>
            </tr>
            <tr>
              <td><code>appsettings.Production.json</code></td>
              <td>Production konfigürasyonu</td>
              <td><code>DocumentManagementSystem/</code></td>
            </tr>
          </tbody>
        </table>

        <h3>Docker Build Süreci</h3>
        <h4>Multi-stage Build Avantajları</h4>
        <ul>
          <li>
            <strong>Optimized Image Size:</strong> Final imaj sadece runtime
            dependencies içerir
          </li>
          <li><strong>Security:</strong> Build tools final imajda bulunmaz</li>
          <li><strong>Caching:</strong> Layer caching ile hızlı rebuild</li>
          <li><strong>Reproducibility:</strong> Tutarlı build süreci</li>
        </ul>

        <h4>Build Stages</h4>
        <div class="code-block">
          # Stage 1: Base Runtime FROM mcr.microsoft.com/dotnet/aspnet:8.0 AS
          base # Runtime environment hazırlığı # Stage 2: Build FROM
          mcr.microsoft.com/dotnet/sdk:8.0 AS build # Source code build ve
          restore # Stage 3: Publish FROM build AS publish # Application publish
          # Stage 4: Final FROM base AS final # Runtime imajı oluşturma
        </div>

        <h3>Container Orchestration</h3>
        <h4>Docker Compose Services</h4>

        <p><strong>SQL Server Service:</strong></p>
        <ul>
          <li>
            <strong>Image:</strong>
            <code>mcr.microsoft.com/mssql/server:2022-latest</code>
          </li>
          <li><strong>Port:</strong> 1433 (host) → 1433 (container)</li>
          <li>
            <strong>Volume:</strong> <code>sqlserver_data</code> (persistent
            storage)
          </li>
          <li>
            <strong>Environment:</strong> EULA acceptance, password, edition
          </li>
        </ul>

        <p><strong>Web Application Service:</strong></p>
        <ul>
          <li><strong>Build:</strong> Local Dockerfile</li>
          <li>
            <strong>Port:</strong> 8080 (host) → 80 (container), 8443 (host) →
            443 (container)
          </li>
          <li>
            <strong>Volume:</strong> <code>uploads_data</code> (document
            storage)
          </li>
          <li>
            <strong>Environment:</strong> Production settings, database
            connection, API keys
          </li>
        </ul>

        <h4>Network Configuration</h4>
        <div class="code-block">networks: app-network: driver: bridge</div>
        <ul>
          <li>
            <strong>Service Discovery:</strong> Container'lar birbirini servis
            adlarıyla bulabilir
          </li>
          <li><strong>Isolation:</strong> Özel network ile güvenlik</li>
          <li>
            <strong>Communication:</strong> Web app → SQL Server:
            <code>sqlserver:1433</code>
          </li>
        </ul>

        <h3>Volume Management</h3>
        <h4>Persistent Storage</h4>

        <p><strong>SQL Server Data:</strong></p>
        <div class="code-block">volumes: sqlserver_data: driver: local</div>

        <p><strong>Document Uploads:</strong></p>
        <div class="code-block">volumes: uploads_data: driver: local</div>

        <h4>Volume Mounting</h4>
        <ul>
          <li>
            <strong>Database Persistence:</strong> Veritabanı verileri container
            restart'larında korunur
          </li>
          <li>
            <strong>Document Storage:</strong> Yüklenen belgeler kalıcı olarak
            saklanır
          </li>
          <li>
            <strong>Backup Strategy:</strong> Volume'lar backup edilebilir
          </li>
        </ul>

        <h3>Environment Configuration</h3>
        <h4>Environment Variables</h4>
        <div class="code-block">
          # Database DB_PASSWORD=YourStrong@Passw0rd
          DB_NAME=DocumentManagementSystem # Application
          ASPNETCORE_ENVIRONMENT=Production ASPNETCORE_URLS=http://+:80 #
          External Services GEMINI_API_KEY=your_api_key
        </div>

        <h4>Configuration Management</h4>
        <ul>
          <li>
            <strong>Development:</strong>
            <code>appsettings.Development.json</code>
          </li>
          <li>
            <strong>Production:</strong>
            <code>appsettings.Production.json</code>
          </li>
          <li><strong>Docker:</strong> Environment variables override</li>
        </ul>

        <h3>Deployment Workflow</h3>
        <h4>Local Development</h4>
        <div class="code-block">
          # 1. Environment setup cp env.example .env # 2. Build and run
          docker-compose up --build -d # 3. Access application # Web:
          http://localhost:8080 # Database: localhost:1433
        </div>

        <h4>Production Deployment</h4>
        <div class="code-block">
          # 1. Environment configuration export
          GEMINI_API_KEY="production_api_key" export
          DB_PASSWORD="strong_production_password" # 2. Deploy with production
          settings docker-compose -f docker-compose.yml -f
          docker-compose.prod.yml up -d # 3. Health check docker-compose ps
          docker-compose logs -f
        </div>

        <h3>Monitoring ve Logging</h3>
        <h4>Container Monitoring</h4>
        <div class="code-block">
          # Container status docker-compose ps # Resource usage docker stats #
          Log monitoring docker-compose logs -f webapp docker-compose logs -f
          sqlserver
        </div>

        <h4>Health Checks</h4>
        <ul>
          <li><strong>Application Health:</strong> HTTP endpoint monitoring</li>
          <li><strong>Database Health:</strong> Connection testing</li>
          <li>
            <strong>Service Discovery:</strong> Container communication
            verification
          </li>
        </ul>

        <h3>Security Considerations</h3>
        <h4>Container Security</h4>
        <ol>
          <li>
            <strong>Non-root User:</strong> Container'lar root olmayan kullanıcı
            ile çalışır
          </li>
          <li>
            <strong>Read-only Filesystem:</strong> Gereksiz yazma izinleri
            kaldırıldı
          </li>
          <li>
            <strong>Secrets Management:</strong> Environment variables ile
            hassas bilgi yönetimi
          </li>
          <li>
            <strong>Network Isolation:</strong> Özel network ile container
            izolasyonu
          </li>
        </ol>

        <h4>Production Security</h4>
        <div class="code-block">
          # Production security settings services: webapp: security_opt: -
          no-new-privileges:true read_only: true tmpfs: - /tmp - /var/tmp
        </div>

        <h3>Performance Optimization</h3>
        <h4>Container Optimization</h4>
        <ol>
          <li>
            <strong>Multi-stage Build:</strong> Minimal final image size (377MB)
          </li>
          <li><strong>Layer Caching:</strong> Efficient rebuild process</li>
          <li><strong>Resource Limits:</strong> Memory ve CPU limitleri</li>
          <li>
            <strong>Connection Pooling:</strong> Database connection
            optimization
          </li>
        </ol>

        <h4>Resource Management</h4>
        <div class="code-block">
          services: webapp: deploy: resources: limits: memory: 1G cpus: "0.5"
          reservations: memory: 512M cpus: "0.25"
        </div>

        <h3>Troubleshooting</h3>
        <h4>Common Issues</h4>

        <p><strong>1. Container Startup Failures</strong></p>
        <div class="code-block">
          docker-compose logs webapp docker-compose logs sqlserver
        </div>

        <p><strong>2. Database Connection Issues</strong></p>
        <div class="code-block">
          docker-compose exec sqlserver /opt/mssql-tools/bin/sqlcmd -S localhost
          -U sa -P YourStrong@Passw0rd -Q "SELECT 1"
        </div>

        <p><strong>3. Port Conflicts</strong></p>
        <div class="code-block">
          netstat -an | findstr :8080 netstat -an | findstr :1433
        </div>

        <h4>Debug Commands</h4>
        <div class="code-block">
          # Container shell access docker-compose exec webapp /bin/bash
          docker-compose exec sqlserver /bin/bash # File system inspection
          docker-compose exec webapp ls -la /app docker-compose exec webapp find
          . -name "*.dll" -type f # Network connectivity docker-compose exec
          webapp ping sqlserver
        </div>

        <h3>CI/CD Integration</h3>
        <h4>Docker in CI/CD Pipeline</h4>
        <div class="code-block">
          # GitHub Actions example - name: Build Docker image run:
          docker-compose build - name: Run tests in container run:
          docker-compose run --rm webapp dotnet test - name: Push to registry
          run: | docker tag document-management-system-webapp:latest ${{
          secrets.REGISTRY }}/dms:latest docker push ${{ secrets.REGISTRY
          }}/dms:latest
        </div>

        <h4>Registry Integration</h4>
        <ul>
          <li><strong>Docker Hub:</strong> Public image hosting</li>
          <li><strong>Azure Container Registry:</strong> Private registry</li>
          <li><strong>AWS ECR:</strong> Cloud-native container registry</li>
        </ul>

        <h3>Scaling Strategy</h3>
        <h4>Horizontal Scaling</h4>
        <div class="code-block">
          services: webapp: deploy: replicas: 3 update_config: parallelism: 1
          delay: 10s restart_policy: condition: on-failure
        </div>

        <h4>Load Balancing</h4>
        <ul>
          <li><strong>Nginx:</strong> Reverse proxy ve load balancer</li>
          <li><strong>HAProxy:</strong> High availability proxy</li>
          <li><strong>Traefik:</strong> Modern reverse proxy</li>
        </ul>

        <h3>Backup ve Recovery</h3>
        <h4>Data Backup</h4>
        <div class="code-block">
          # Database backup docker-compose exec sqlserver
          /opt/mssql-tools/bin/sqlcmd -S localhost -U sa -P YourStrong@Passw0rd
          -Q "BACKUP DATABASE DocumentManagementSystem TO DISK =
          '/var/opt/mssql/backup/dms_backup.bak'" # Volume backup docker run
          --rm -v document-management-system_sqlserver_data:/data -v
          $(pwd):/backup alpine tar czf /backup/sqlserver_backup.tar.gz -C /data
          .
        </div>

        <h4>Disaster Recovery</h4>
        <ol>
          <li>
            <strong>Automated Backups:</strong> Scheduled database backups
          </li>
          <li><strong>Volume Snapshots:</strong> Point-in-time recovery</li>
          <li>
            <strong>Configuration Backup:</strong> Environment ve config
            dosyaları
          </li>
          <li><strong>Document Storage:</strong> Uploaded files backup</li>
        </ol>
      </div>

      <!-- Footer -->
      <div class="footer">
        <h3>📞 İletişim ve Destek</h3>
        <p><strong>Proje Adı:</strong> Document Management System</p>
        <p><strong>Versiyon:</strong> 1.0.0</p>
        <p><strong>Framework:</strong> ASP.NET Core 8.0</p>
        <p><strong>Geliştirici:</strong> Esra Sultan Arlı</p>
        <p>
          <em
            >Bu dokümantasyon Document Management System projesinin teknik
            mimarisini ve API kullanımını detaylandırmaktadır. Güncellemeler ve
            değişiklikler için lütfen proje repository'sini takip edin.</em
          >
        </p>
      </div>
    </div>

    <script>
      // Smooth scrolling for anchor links
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target) {
            target.scrollIntoView({
              behavior: "smooth",
              block: "start",
            });
          }
        });
      });

      // Add active class to current section in navigation
      window.addEventListener("scroll", () => {
        const sections = document.querySelectorAll(".section");
        const navLinks = document.querySelectorAll(".toc a");

        let current = "";
        sections.forEach((section) => {
          const sectionTop = section.offsetTop;
          const sectionHeight = section.clientHeight;
          if (scrollY >= sectionTop - 200) {
            current = section.getAttribute("id");
          }
        });

        navLinks.forEach((link) => {
          link.classList.remove("active");
          if (link.getAttribute("href") === `#${current}`) {
            link.classList.add("active");
          }
        });
      });
    </script>
  </body>
</html>
